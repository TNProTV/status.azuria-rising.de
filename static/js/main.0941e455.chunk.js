(this["webpackJsonpstatus-azuria-rising-de"]=this["webpackJsonpstatus-azuria-rising-de"]||[]).push([[0],{206:function(e,n,t){"use strict";t.r(n);var a,o,r,i,s,c,l,u,d,b,m,p,g,j,h,f,x,O,v,w,S,k,y,_,M,N,L,D=t(0),I=t.n(D),z=t(79),F=t.n(z),C=(t(92),t(4)),E=t(2),J=t(87),Y=t(5),A=t(3),T=(t(93),A.a.div(a||(a=Object(E.a)(["\n  width: 100%;\n  height: 44px;\n  border-radius: 3px;\n\n  :not(:last-child) {\n    margin-bottom: 8px;\n  }\n"])))),P=t(83),R=t.n(P),U=t(84),W=new R.a(U),B={operational:{name:"Operational",locName:W.components.operational,backgroundColour:"rgba(61, 167, 81, 0.1)"},performanceIssues:{name:"Performance Issues",locName:W.components.performanceIssues,backgroundColour:"rgba(73, 144, 226, 0.1)"},partialOutage:{name:"Partial Outage",locName:W.components.partialOutage,backgroundColour:"rgba(192, 138, 45, 0.1)"},majorOutage:{name:"Major Outage",locName:W.components.majorOutage,backgroundColour:"rgba(217, 68, 48, 0.1)"},maintenance:{name:"Maintenance",locName:W.components.maintenance,backgroundColour:"rgba(96, 96, 96, 0.1)"},unknown:{name:"Unknown",locName:W.components.unknown,backgroundColour:"rgba(177, 177, 177, 0.1)"}},H=function(e){var n=Object(D.useState)(),t=Object(C.a)(n,2),a=t[0],o=t[1];return Object(D.useEffect)((function(){o(Object.values(B).find((function(n){return e.find((function(e){return e.name===n.name.toLowerCase()}))})))}),[e]),a||o(B.unknown),[a]},K=t(1),G=A.a.div(o||(o=Object(E.a)(["\n  background-color: ",";\n  padding: 5px 12px;\n  border-radius: 16px;\n  font-size: 13px;\n  transition: 0.3s;\n"])),(function(e){return e.backgroundColour})),Z=function(e){var n=e.labels,t=H(n),a=Object(C.a)(t,1)[0];return Object(K.jsx)(G,{className:"component-status ".concat(null===a||void 0===a?void 0:a.name.toLowerCase().replace(" ","")),backgroundColour:null===a||void 0===a?void 0:a.backgroundColour,children:null===a||void 0===a?void 0:a.locName})},$=t(85),q=t.n($),Q=function(e,n){var t=Object(D.useState)(),a=Object(C.a)(t,2),o=a[0],r=a[1];return Object(D.useEffect)((function(){var t=e.title;r(n.filter((function(e){var n=e.title.split(":");return e.labels.find((function(e){return"subcomponent"===e.name}))&&n.length>0&&n[0]===t})))}),[e,n]),o},V=A.a.div(r||(r=Object(E.a)(["\n  padding: 8px 16px;\n  border-radius: 3px;\n  justify-content: space-between;\n  align-items: center;\n  display: flex;\n\n  :not(:last-child) {\n    margin-bottom: 8px;\n  }\n"]))),X=function(e){var n=e.component,t=e.components,a=Object(D.useState)(!1),o=Object(C.a)(a,2),r=o[0],i=o[1],s=Q(n,t);if(n.labels.find((function(e){return"subcomponent"===e.name})))return null;if((null===s||void 0===s?void 0:s.length)>0&&!n.labels.find((function(e){return"maintenance"===e.name}))){var c=null===s||void 0===s?void 0:s.map((function(e){return Object(K.jsxs)(V,{className:"component collapsed",children:[Object(K.jsxs)("div",{children:[e.title.split(":")[1],e.body?Object(K.jsx)("span",{className:"component-body",children:e.body}):null]}),Object(K.jsx)(Z,{labels:e.labels})]},e.id)}));return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)(V,{onClick:function(){return i(!r)},className:"component children",children:[Object(K.jsxs)("div",{children:[n.title,Object(K.jsx)("span",{className:"component-dropdown",children:r?"\u25ba":"\u25bc"}),n.body?Object(K.jsx)("span",{className:"component-body",children:n.body}):null]}),Object(K.jsx)(Z,{labels:n.labels})]}),Object(K.jsx)(q.a,{theme:{collapse:"collapse-component",content:"collapse-content"},isOpened:r,children:c})]})}return Object(K.jsxs)(V,{className:"component",children:[Object(K.jsxs)("div",{children:[n.title,n.body?Object(K.jsx)("span",{className:"component-body",children:n.body}):null]}),Object(K.jsx)(Z,{labels:n.labels})]})},ee=function(){var e=Object(D.useState)(),n=Object(C.a)(e,2),t=n[0],a=n[1];return Object(D.useEffect)((function(){a(!0)}),[]),[t]},ne=function(e){var n=e.loading,t=e.components,a=ee(),o=Object(C.a)(a,1)[0];return!n||o?(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t.sort((function(e,n){return e.title.localeCompare(n.title)})).map((function(e){return Object(K.jsx)(X,{component:e,components:t},e.id)})):Object(K.jsx)("p",{children:W.error.nocomponents}):Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(T,{}),Object(K.jsx)(T,{}),Object(K.jsx)(T,{})]})},te=A.a.div(i||(i=Object(E.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 16px;\n"]))),ae=A.a.a(s||(s=Object(E.a)(["\n  font-size: 13px;\n  display: ",";\n"])),(function(e){return e.visible?"block":"none"})),oe=function(){return Object(K.jsxs)(te,{children:[Object(K.jsx)(ae,{visible:!0,href:"https://tnproduction.de/impressum-disclaimer-datenschutz",rel:"noopener",target:"_blank",children:W.general.imprint}),Object(K.jsx)(ae,{visible:!0,href:"https://github.com/tadhglewis/issue-status",rel:"noopener",target:"_blank",children:W.general.branding})]})},re=(A.a.h1(c||(c=Object(E.a)(["\n  text-align: center;\n  margin-top: 0;\n  margin-bottom: 0;\n"]))),A.a.img(l||(l=Object(E.a)([""])))),ie=A.a.div(u||(u=Object(E.a)(["\n  text-align: center;\n  margin-bottom: 16px;\n"]))),se=function(){return Object(K.jsx)(ie,{className:"app-header",children:Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(re,{className:"light-logo",src:"https://raw.githubusercontent.com/tnpro93/status.azuria-rising.de/master/public/logo.png",alt:"Azuria-Rising.de"}),Object(K.jsx)(re,{className:"dark-logo",src:"https://raw.githubusercontent.com/tnpro93/status.azuria-rising.de/master/public/logo_dark.png",alt:"Azuria-Rising.de"})]})})},ce=t(14),le=t.n(ce),ue=t(86),de=t.n(ue),be=A.a.div(d||(d=Object(E.a)(["\n  transition: 0.3s;\n  border-left: 16px solid\n    ",";\n  border-radius: 3px;\n  padding: 16px;\n  box-shadow: 0px 0px 33px -32px rgba(0, 0, 0, 0.75);\n  margin-top: 8px;\n\n  :not(:last-child) {\n    margin-bottom: 16px;\n  }\n"])),(function(e){return e.active?"rgba(177, 177, 177,0.2)":"rgba(213, 119, 51, 0.25)"})),me=A.a.div(b||(b=Object(E.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 3px;\n"]))),pe=A.a.h3(m||(m=Object(E.a)(["\n  margin-right: 16px;\n  font-weight: bold;\n  margin-bottom: 8px;\n  margin-top: 0;\n"]))),ge=A.a.div(p||(p=Object(E.a)(["\n  white-space: break-spaces;\n"]))),je=A.a.div(g||(g=Object(E.a)(["\n  background-color: ",";\n  padding: 5px 12px;\n  border-radius: 16px;\n  font-size: 13px;\n  transition: 0.3s;\n"])),(function(e){return e.active?"rgba(96, 96, 96, 0.1)":"rgba(73, 144, 226, 0.1)"})),he=A.a.div(j||(j=Object(E.a)(["\n  font-size: 13px;\n  color: #6e6b6b;\n  font-weight: bold;\n"]))),fe=function(e){var n=e.incident;return Object(K.jsxs)(be,{className:"incident-container",active:n.closed_at,children:[Object(K.jsxs)(me,{children:[Object(K.jsx)(he,{children:le()(n.created_at).format("LLL").toUpperCase()}),Object(K.jsx)(je,{className:n.closed_at?"incident-status":"activeIncident incident-status",active:n.closed_at,children:n.closed_at?W.incidents.closed:W.incidents.active})]}),Object(K.jsx)(pe,{children:n.title}),Object(K.jsx)(ge,{children:Object(K.jsx)(de.a,{className:"incident",children:n.body})})]})},xe=A.a.div(h||(h=Object(E.a)(["\n  width: 100%;\n  height: 84px;\n  border-radius: 3px;\n  background-color: white;\n  box-shadow: 0px 0px 33px -32px rgba(0, 0, 0, 0.75);\n\n  :not(:last-child) {\n    margin-bottom: 8px;\n  }\n"]))),Oe=A.a.div(f||(f=Object(E.a)(["\n  margin: 32px auto 0 auto;\n  max-width: 1040px;\n"]))),ve=A.a.div(x||(x=Object(E.a)(["\n  padding: 0 16px;\n  font-size: 20px;\n  margin-bottom: 16px;\n"]))),we=A.a.div(O||(O=Object(E.a)(["\n  margin: 0 8px;\n"]))),Se=function(e){var n=e.loading,t=e.incidents,a=ee(),o=Object(C.a)(a,1)[0];return Object(K.jsxs)(Oe,{children:[Object(K.jsx)(ve,{children:W.incidents.title}),!n||o?(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t.map((function(e){return Object(K.jsx)(fe,{incident:e},e.id)})):Object(K.jsx)(we,{children:W.error.noincidents}):Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(xe,{className:"incident-skeleton"}),Object(K.jsx)(xe,{className:"incident-skeleton"}),Object(K.jsx)(xe,{className:"incident-skeleton"})]})]})},ke={operational:{message:W.status.operational,name:"operational"},issues:{message:W.status.issues,name:"issues"},outage:{message:W.status.outage,name:"outage"}},ye=function(e,n){return 100*e.filter((function(e){return e.labels.find((function(e){return e.name===n}))})).length/e.length},_e=function(e){var n=Object(D.useState)(),t=Object(C.a)(n,2),a=t[0],o=t[1];return Object(D.useEffect)((function(){var n=!1;ye(e,"operational")<100&&(o(ke.issues),n=!0),ye(e.filter((function(e){return!e.labels.find((function(e){return"subcomponent"===e.name}))})),"major outage")>0&&(o(ke.outage),n=!0),n||o(ke.operational)}),[e]),[a]},Me=function(e,n){var t=Object(D.useState)(le()(new Date(localStorage.getItem("issueStatusLastFetchcomponent"))).fromNow()),a=Object(C.a)(t,2),o=a[0],r=a[1];return Object(D.useEffect)((function(){var n=setInterval((function(){new Date(localStorage.getItem("issueStatusLastFetchcomponent"))<new Date-24e4?e((function(){r(le()(new Date(localStorage.getItem("issueStatusLastFetchcomponent"))).fromNow())})):r(le()(new Date(localStorage.getItem("issueStatusLastFetchcomponent"))).fromNow())}),1e3);return function(){clearInterval(n)}}),[e]),Object(D.useEffect)((function(){r(le()(new Date(localStorage.getItem("issueStatusLastFetchcomponent"))).fromNow())}),[n]),[o]},Ne=A.a.div(v||(v=Object(E.a)(["\n  background-color: ",";\n  color: white;\n  padding: 16px;\n  border-radius: 3px;\n  margin-bottom: 32px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  transition: 0.3s;\n"])),(function(e){return e.backgroundColour?e.backgroundColour:"#b1b1b1"})),Le=A.a.h2(w||(w=Object(E.a)(["\n  font-size: 20px;\n  margin: 0;\n  font-weight: normal;\n"]))),De=A.a.span(S||(S=Object(E.a)(["\n  background-color: transparent;\n  text-align: right;\n  padding: 0;\n  font-size: 13px;\n"]))),Ie=A.a.button(k||(k=Object(E.a)(["\n  background-color: transparent;\n  color: white;\n  text-decoration: underline;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n"]))),ze=A.a.code(y||(y=Object(E.a)(["\n  white-space: pre-wrap;\n  display: block;\n"]))),Fe=function(e){var n=e.loading,t=e.error,a=e.components,o=e.refetch,r=_e(a),i=Object(C.a)(r,1)[0],s=Me(o,n),c=Object(C.a)(s,1)[0];return Object(K.jsxs)(K.Fragment,{children:[t.hasError&&Object(K.jsxs)(ze,{children:[Object(K.jsx)("div",{children:W.error.message.title}),Object(K.jsx)("div",{children:W.error.message.body}),JSON.stringify(t.errors,null,3)]}),Object(K.jsxs)(Ne,{className:"status-bar ".concat(null===i||void 0===i?void 0:i.name),backgroundColour:null===i||void 0===i?void 0:i.backgroundColour,children:[Object(K.jsx)(Le,{children:null===i||void 0===i?void 0:i.message}),Object(K.jsxs)(De,{children:[W.general.refresh,Object(K.jsx)(Ie,{onClick:o,children:n?W.general.refreshing:c})]})]})]})},Ce=function(e,n,t,a){e(!0),fetch("https://api.github.com/repos/".concat("tnpro93/status.azuria-rising.de","/issues?state=all&labels=issue status,").concat(a)).then((function(e){return e.json()})).then((function(o){n(),localStorage.setItem("issueStatusLastFetch".concat(a),new Date),localStorage.setItem("issueStatus".concat(a),JSON.stringify(o)),t(o),e(!1)})).catch((function(o){n(o.toString()),localStorage.setItem("issueStatusLastFetch".concat(a),new Date),t(JSON.parse(localStorage.getItem("issueStatus".concat(a)))),e(!1)}))},Ee=function(e){var n=Object(D.useState)([]),t=Object(C.a)(n,2),a=t[0],o=t[1],r=Object(D.useState)(),i=Object(C.a)(r,2),s=i[0],c=i[1],l=Object(D.useState)(!0),u=Object(C.a)(l,2),d=u[0],b=u[1];return Object(D.useEffect)((function(){new Date(localStorage.getItem("issueStatusLastFetch".concat(e)))<new Date-24e4?Ce(b,c,o,e):(o(JSON.parse(localStorage.getItem("issueStatus".concat(e)))),b(!1),c())}),[e]),[d,s,a||[],function(){return Ce(b,c,o,e)}]},Je=A.a.div(_||(_=Object(E.a)(["\n  max-width: 1008px;\n  padding: 16px;\n  margin: 16px auto;\n"]))),Ye=A.a.div(M||(M=Object(E.a)(["\n  box-shadow: 0px 0px 33px -32px rgba(0, 0, 0, 0.75);\n  border-radius: 3px;\n  padding: 16px;\n"]))),Ae=A.a.div(N||(N=Object(E.a)(["\n  text-align: center;\n  margin: 75px 0;\n"]))),Te=A.a.h1(L||(L=Object(E.a)(["\n  font-size: 42pt;\n  margin: 0;\n"]))),Pe=function(){document.getElementsByTagName("html")[0].setAttribute("lang",W.getLanguage());var e=Ee("component"),n=Object(C.a)(e,4),t=n[0],a=n[1],o=n[2],r=n[3],i=Ee("incident"),s=Object(C.a)(i,4),c=s[0],l=s[1],u=s[2],d=s[3];return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)(Ye,{className:"components-container",children:[Object(K.jsx)(Fe,{loading:t||c,error:{hasError:a||l,errors:{componentsError:a,incidentsError:l}},components:o,refetch:function(){r(),d()}}),Object(K.jsx)(ne,{loading:t,components:o})]}),Object(K.jsx)(Se,{loading:c,incidents:u})]})},Re=function(){return Object(K.jsxs)(Ae,{children:[Object(K.jsx)(Te,{children:W.error.notfound.title}),Object(K.jsx)("p",{children:W.error.notfound.description}),Object(K.jsx)("p",{children:Object(K.jsx)("a",{href:"/",children:W.error.notfound.link})})]})},Ue=function(){return Object(K.jsxs)(Je,{children:[Object(K.jsx)(se,{}),Object(K.jsx)(J.a,{children:Object(K.jsxs)(Y.c,{children:[Object(K.jsx)(Y.a,{path:"/",exact:!0,component:Pe}),Object(K.jsx)(Y.a,{path:"**",component:Re})]})}),Object(K.jsx)(oe,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function We(e,n,t,a){var o={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return n?o[t][0]:o[t][1]}le.a.locale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm [Uhr]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT",sameElse:"L",nextDay:"[Morgen um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gestern um] LT",lastWeek:"[letzten] dddd [um] LT"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:We,mm:"%d Minuten",h:We,hh:"%d Stunden",d:We,dd:We,M:We,MM:We,y:We,yy:We},ordinal:"%d.",week:{dow:1,doy:4}}),le.a.locale(W.getLanguage()),F.a.render(Object(K.jsx)(I.a.StrictMode,{children:Object(K.jsx)(Ue,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},84:function(e){e.exports=JSON.parse('{"en":{"error":{"noincidents":"No incidents found","nocomponents":"No components found","message":{"title":"An error occurred","body":"You may have exceeded the rate limit. Please try again in one hour."},"notfound":{"title":"404","description":"Seems like this page does not exist.","link":"Return"}},"general":{"refresh":"Last refresh: ","refreshing":"refreshing...","imprint":"Imprint & Privacy Policy","branding":"Powered by Issue Status"},"incidents":{"title":"Incidents","closed":"Resolved","active":"Active"},"components":{"operational":"Operational","performanceIssues":"Performance Issues","partialOutage":"Restricted","majorOutage":"Major Outage","maintenance":"Maintenance","unknown":"Unknown"},"status":{"operational":"All Systems Operational","issues":"Some systems are experiencing issues","outage":"Some systems are experiencing an outage"}},"de":{"error":{"noincidents":"Keine Meldungen gefunden","nocomponents":"Keine Komponenten gefunden","message":{"title":"Ein Fehler ist aufgetreten","body":"Du hast eventuell das Anfragenlimit \xfcberschritten. Bitte versuche es in einer Stunde erneut."},"notfound":{"title":"404","description":"Scheint so, als h\xe4ttest du dich verlaufen.","link":"Zur\xfcck zur Startseite"}},"general":{"refresh":"Zuletzt aktualisiert: ","refreshing":"laden ...","imprint":"Impressum & Datenschutzerkl\xe4rung","branding":"Powered by Issue Status"},"incidents":{"title":"Meldungen","closed":"Gel\xf6st","active":"Aktiv"},"components":{"operational":"Funktionsf\xe4hig","performanceIssues":"Leistungsprobleme","partialOutage":"Eingeschr\xe4nkt","majorOutage":"Ausfall","maintenance":"Wartungen","unknown":"Unbekannt"},"status":{"operational":"Alle Systeme funktionsf\xe4hig","issues":"Einige Systeme haben Probleme","outage":"Einige Systeme melden einen Ausfall"}}}')},92:function(e,n,t){},93:function(e,n,t){}},[[206,1,2]]]);
//# sourceMappingURL=main.0941e455.chunk.js.map